# Implementing Dark Mode in Wails Applications

Wails applications are designed to seamlessly integrate with the system's theme settings by default. This means that when a user enables dark mode on their operating system, your application will automatically adapt to match this preference. However, Wails also provides comprehensive tools for customising theme behaviour and appearance across different platforms.

## Understanding Platform Support

Each operating system handles theming differently, and Wails accommodates these variations while maintaining a consistent developer experience. On Windows, you have fine-grained control over both dark and light theme appearances, including the ability to customise active and inactive window states. macOS offers system appearance integration along with transparent background options, while Linux provides window translucency settings and GPU policy controls.

## Configuring Windows Theme Settings

For Windows applications, Wails exposes two primary theme configuration options through the WindowsWindow struct. The Theme field determines the overall theme behaviour, allowing you to either follow the system theme or enforce dark or light mode. When you need more precise control over visual elements, the CustomTheme field enables you to define specific color schemes for different window states.

Here's how you can structure your theme configuration:

```go
type WindowsWindow struct {
  // ...
  Theme Theme
  CustomTheme ThemeSettings
}

// Theme controls overall theme behaviour
type Theme int

const (
  SystemDefault Theme = 0 // Follow system theme
  Dark Theme = 1         // Force dark mode
  Light Theme = 2        // Force light mode
)

// ThemeSettings allows custom colour schemes
type ThemeSettings struct {
  DarkModeActive *WindowTheme
  DarkModeInactive *WindowTheme
  LightModeActive *WindowTheme
  LightModeInactive *WindowTheme
  DarkModeMenuBar *MenuBarTheme
}
```

## Customising the Menu Bar Appearance

The menu bar in Wails applications automatically adapts to the system theme, but you can override this behaviour when needed. Through the DarkModeMenuBar field in the ThemeSettings struct, you can define specific colour schemes for different parts of the menu bar. This includes the default appearance, hover states, and selected menu items. The TextTheme structure allows you to specify both text and background colours for each state, giving you complete control over the menu bar's visual presentation.

When implementing custom menu bar themes, it's essential to maintain sufficient contrast between text and background colours to ensure accessibility. The following example demonstrates how to structure your menu bar theme configuration:

:::note
Any option not set will use the default values.
:::

```go
type MenuBarTheme struct {
  Default *TextTheme
  Hover *TextTheme
  Selected *TextTheme
}

// TextTheme defines text and background colours
type TextTheme struct {
  Text *uint32
  Background *uint32
}
```

## Handling Theme Fallbacks

Wails includes robust fallback mechanisms to ensure your application remains functional and visually consistent even when theming isn't supported. In such cases, the framework will automatically revert to system default theme colours, standard window appearance, and default menu bar styling. This graceful degradation ensures that your application maintains its core functionality across different platform configurations and versions.

## Best Practices for Theme Implementation

When implementing dark mode in your Wails application, it's essential to test your theme configuration across all target platforms to ensure consistent behaviour. Consider providing fallback styles in your CSS to handle unsupported configurations gracefully. While custom themes can enhance your application's branding, it's generally recommended to use the system theme as the default setting unless you have specific visual requirements. Always keep accessibility in mind when choosing custom colours, ensuring that your application remains usable for all users regardless of their visual capabilities.
